<mat-accordion>
    @if(position=='left'){
        @for (key of getCategoryKeys(leftCategories); track $index) {
            <mat-expansion-panel style="border-radius: 0; margin: 0; margin-left: -15px;">
          
                <mat-expansion-panel-header>
                    <mat-panel-title style="color: #e9e7e7;"> {{ key }} </mat-panel-title>
                </mat-expansion-panel-header>

                <div class="catergories-container button-container">
                    <div cdkDropList [cdkDropListData]="leftCategories[key]">
                        @for (operator of leftCategories[key]; track $index) {                    
                            <button mat-fab extended aria-label="category" class="badge-button" cdkDrag >
                                <div class="div-button">
                                    <img [src]="'assets/svg/' + operator + '.svg'">
                                    <span>{{ getFormattedOperator(operator) }}</span>
                                </div>   
                                
                                <div *cdkDragPreview class="dropped-item">
                                    {{getFormattedOperator(operator)}}
                                </div>       
                            </button>
                        }
                    </div>
                </div>    
            </mat-expansion-panel>
        }      
    }
    @else {
        <!-- @for (key of getCategoryKeys(rightCategories); track $index) { -->

        <!-- STEPS -->
            <mat-expansion-panel style="border-radius: 0; margin: 0;">
                <mat-expansion-panel-header>
                    <mat-panel-title style="color: #e9e7e7;"> STEPS </mat-panel-title>
                </mat-expansion-panel-header> 
                @for (name of stepNames; track $index) {
                    <mat-expansion-panel style="width: 250px; border-radius: 0; margin-left: -25px;">
                        <mat-expansion-panel-header class="expansion-header" style="margin-bottom: 0;"  
                        [matTooltip]="getFormattedOperator(name)" matTooltipPosition="left">
                            <div class="expansion-header-content">{{ getFormattedOperator(name) }}</div>
                    </mat-expansion-panel-header>
                        
                        @for (item of x; track $index) {
                            <button mat-fab extended aria-label="category" class="badge-button" >
                                <div class="div-button">helo</div>
                            </button>
                        }
                    </mat-expansion-panel>
                }
              
            </mat-expansion-panel>

        <!-- FLOWS -->
            <mat-expansion-panel style="border-radius: 0; margin: 0;">
                <mat-expansion-panel-header>
                    <mat-panel-title style="color: #e9e7e7;"> FLOWS </mat-panel-title>
                </mat-expansion-panel-header> 
                @for (name of flowNames; track $index) {
                    <mat-expansion-panel style="width: 250px; border-radius: 0; margin-left: -25px;">
                        <mat-expansion-panel-header style="margin-bottom: 0" class="expansion-header" 
                        [matTooltip]="getFormattedOperator(name)" matTooltipPosition="left">
                            <div class="expansion-header-content">{{ getFormattedOperator(name) }}</div>
                    </mat-expansion-panel-header>
                        
                        @for (item of x; track $index) {
                            <button mat-fab extended aria-label="category" class="badge-button" >
                                <div class="div-button">helo</div>
                            </button>
                        }
                    </mat-expansion-panel>
                }
              
            </mat-expansion-panel>
        }
    <!-- }  -->
</mat-accordion>

